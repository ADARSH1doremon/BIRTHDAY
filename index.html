<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Birthday, Ritika ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Dancing+Script:wght@700&family=Courier+Prime&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg1: #fff5f7;
            --bg2: #ffe3ec;
            --accent: #ff4d6d;
            --text: #5d4037;
            --card-width: clamp(140px, 30vw, 200px);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0; overflow: hidden; font-family: 'Quicksand', sans-serif;
            background: linear-gradient(-45deg, var(--bg1), var(--bg2));
            background-size: 400% 400%; animation: gradient 15s ease infinite;
            color: var(--text); touch-action: none; height: 100vh; width: 100vw;
        }

        @keyframes gradient { 0% { background-position: 0% 50% } 50% { background-position: 100% 50% } 100% { background-position: 0% 50% } }

        /* Countdown & Surprise - Entry Page Only */
        #countdown {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
            z-index: 4000; background: rgba(255, 255, 255, 0.95);
            padding: 10px 20px; border-radius: 20px; font-weight: bold;
            font-size: 0.85rem; color: var(--accent); border: 1.5px solid var(--accent);
            box-shadow: 0 4px 15px rgba(255, 77, 109, 0.2);
        }

        #surprise-wrapper {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            z-index: 5000; display: none; text-align: center; width: 90%;
        }
        .gift-box {
            font-size: 80px; cursor: pointer; animation: bounce 1s infinite;
            filter: drop-shadow(0 5px 15px rgba(0,0,0,0.1)); margin-bottom: 20px;
        }
        @keyframes bounce { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }

        .surprise-note {
            background: white; padding: 25px; border-radius: 15px; 
            border: 2px solid var(--accent); box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: left; animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Click Burst Particles */
        .click-particle {
            position: fixed; pointer-events: none; z-index: 9999;
            animation: burst 0.8s ease-out forwards;
        }
        @keyframes burst {
            0% { transform: translate(0,0) scale(1); opacity: 1; }
            100% { transform: translate(var(--dx), var(--dy)) scale(0); opacity: 0; }
        }

        /* Rope UI */
        #rope-container { 
            position: fixed; top: -50px; left: 50%; transform: translateX(-50%); 
            display: flex; flex-direction: column; align-items: center; 
            cursor: pointer; transition: 1.2s cubic-bezier(.68,-0.55,.265,1.55); z-index: 3000; 
        }
        #rope-line { width: 4px; height: 35vh; background: repeating-linear-gradient(to bottom, #fff 0 10px, #ffc2d1 10px 20px); border-radius: 5px; }
        #rope-handle { background: var(--accent); color: white; padding: 12px 25px; border-radius: 50px; font-weight: bold; margin-top: -10px; box-shadow: 0 5px 15px rgba(255,77,109,0.3); }

        /* Album & Photos */
        #album { position: relative; width: 100%; height: 100%; display: none; opacity: 0; transition: 1s; z-index: 10; }
        .photo-card { 
            position: absolute; width: var(--card-width); padding: 8px 8px 12px 8px; 
            background: #fffdf8; border-radius: 2px; box-shadow: 0 8px 20px rgba(0,0,0,0.12); 
            animation: danceBeat 2s infinite ease-in-out; touch-action: none; cursor: grab;
        }
        .photo-card img { width: 100%; aspect-ratio: 1/1; object-fit: cover; display: block; pointer-events: none; }
        .photo-caption { font-family: 'Dancing Script'; text-align: center; padding-top: 8px; font-size: 1rem; }
        @keyframes danceBeat { 0%, 100% { transform: scale(1) rotate(var(--r)); } 50% { transform: scale(1.02) rotate(calc(var(--r) + 2deg)); } }

        /* General UI Elements */
        .sparkle-text { background: linear-gradient(to right, #ff4d6d, #ff85a2, #ff4d6d); background-size: 200% auto; color: transparent; -webkit-background-clip: text; background-clip: text; animation: shine 2s linear infinite; display: inline-block; }
        @keyframes shine { to { background-position: 200% center; } }
        
        .nav-bar { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); display: none; gap: 10px; z-index: 2000; background: rgba(255, 255, 255, 0.9); padding: 6px; border-radius: 50px; }
        .nav-item { padding: 8px 18px; border: none; border-radius: 25px; font-weight: bold; background: transparent; cursor: pointer; font-family: 'Quicksand'; }
        .nav-item.active { background: var(--accent); color: white; }
        #report { display: none; height: 100vh; width: 100vw; justify-content: center; align-items: center; padding: 20px; z-index: 20; position: absolute; top: 0; }
        .note-card { background: white; padding: 25px; border-radius: 15px; border-left: 6px solid var(--accent); width: min(90%, 400px); box-shadow: 0 15px 40px rgba(0,0,0,0.1); }
    </style>
</head>
<body onclick="createClickBurst(event)">

    <div id="entry-ui">
        <div id="countdown">Calculating...</div>
        <div id="surprise-wrapper">
            <div class="gift-box" onclick="openSurprise()">üéÅ</div>
            <p id="hint-text" style="font-weight:bold; color:var(--accent); font-size:12px;">TAP FOR A BIRTHDAY SURPRISE!</p>
        </div>
    </div>

    <audio id="bg-song" loop><source src="jane kidhar.mp3" type="audio/mpeg"></audio>

    <div id="rope-container" onclick="startExperience()">
        <div id="rope-line"></div>
        <div id="rope-handle">PULL ‚ú®</div>
    </div>

    <div id="app">
        <div id="album"></div>
        <div id="report">
            <div class="note-card">
                <h2 style="font-family:'Dancing Script'; margin:0 0 10px 0;"><span class="sparkle-text">Happy Birthday, Ritika!</span></h2>
                <div id="msgText" style="font-family:'Courier Prime'; line-height: 1.5; font-size: 0.9rem;"></div>
                <div id="cake-section" style="display:none; text-align:center; margin-top:15px;">
                    <div style="font-size:50px; cursor:pointer;" onclick="this.innerHTML='üç∞'; confetti()">üéÇ</div>
                </div>
            </div>
        </div>
        <div class="nav-bar" id="main-nav">
            <button class="nav-item active" onclick="showPage('album', this)">Album</button>
            <button class="nav-item" onclick="showPage('report', this)">Note</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script>
        const targetDate = new Date('February 26, 2026 00:00:00').getTime();
        let surpriseOpened = false;

        function updateCountdown() {
            const now = new Date().getTime();
            const diff = targetDate - now;
            const timerEl = document.getElementById('countdown');
            const giftEl = document.getElementById('surprise-wrapper');

            if (!timerEl) return;

            if (diff <= 0) {
                timerEl.innerHTML = "‚ú® IT'S FEB 26! HAPPY BIRTHDAY RITIKA! ‚ú®";
                if(!surpriseOpened) giftEl.style.display = 'block';
                return;
            }

            const h = Math.floor(diff / (1000 * 60 * 60));
            const m = Math.floor((diff / (1000 * 60)) % 60);
            const s = Math.floor((diff / 1000) % 60);
            timerEl.innerHTML = `Ritika's Day in: ${h}h ${m}m ${s}s ‚ú®`;
        }
        setInterval(updateCountdown, 1000);
        updateCountdown();

        function createClickBurst(e) {
            const x = e.clientX || (e.touches ? e.touches[0].clientX : 0);
            const y = e.clientY || (e.touches ? e.touches[0].clientY : 0);
            
            for (let i = 0; i < 8; i++) {
                const p = document.createElement('div');
                p.className = 'click-particle';
                p.innerHTML = ['üíñ', '‚ú®', '‚≠ê', 'üå∏'][Math.floor(Math.random() * 4)];
                p.style.left = x + 'px';
                p.style.top = y + 'px';
                p.style.setProperty('--dx', `${(Math.random() - 0.5) * 200}px`);
                p.style.setProperty('--dy', `${(Math.random() - 0.5) * 200}px`);
                document.body.appendChild(p);
                setTimeout(() => p.remove(), 800);
            }
        }

        function openSurprise() {
            surpriseOpened = true;
            confetti({ particleCount: 300, spread: 100, origin: { y: 0.7 } });
            document.getElementById('hint-text').style.display = 'none';
            document.getElementById('surprise-wrapper').innerHTML = `
                <div class="surprise-note">
                    <h3 style="margin:0 0 10px 0; color:var(--accent); font-family:'Dancing Script'; font-size: 22px;">To Ritika...</h3>
                    <p style="font-size:13px; line-height:1.6; color: #555; margin-bottom: 10px;">
                        Ritika, you‚Äôre not just a friend ‚Äî you‚Äôre that calm after a storm, the laughter in between chaos, and the light that never fades. 
                        Your heart radiates such purity that it turns every ordinary day into something worth remembering. 
                        You‚Äôve got that rare gift ‚Äî the ability to care deeply, connect genuinely, and still stay humble 
                        <i>(kabhi kabhi zayada gussa ho jati h wo alag baat hai)</i> but you are a good friend. ‚ù§Ô∏è
                    </p>
                    <p style="font-size:11px; font-weight:bold; color:var(--accent); text-align:center;">Now pull the rope to start!</p>
                </div>`;
        }

        const song = document.getElementById('bg-song');
        let typed = false;
        const photoList = [
            { src: '1 (1).jpeg', cap: 'Sunshine' }, { src: '1 (2).jpeg', cap: 'Ritika' },
            { src: '1 (3).jpeg', cap: 'Smile' }, { src: '1 (4).jpeg', cap: 'Forever' },
            { src: '2.jpeg', cap: 'Memories' }, { src: '3 (1).jpeg', cap: 'FlashBack' },
            { src: '3 (2).jpeg', cap: 'Magic' }, { src: '3 (3).jpeg', cap: 'Laughter' }
        ];

        function startExperience() {
            song.play().catch(() => {});
            const entryUI = document.getElementById('entry-ui');
            if(entryUI) entryUI.remove();
            document.getElementById('rope-container').style.transform = "translate(-50%, -100vh)";
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });

            setTimeout(() => {
                document.getElementById('album').style.display = 'block';
                document.getElementById('album').style.opacity = 1;
                document.getElementById('main-nav').style.display = 'flex';
                createPhotos();
            }, 600);
        }

        function createPhotos() {
            const album = document.getElementById('album');
            photoList.forEach(photo => {
                const c = document.createElement('div');
                c.className = 'photo-card';
                c.style.setProperty('--r', (Math.random()-0.5)*15+'deg');
                c.style.left = Math.random()*(window.innerWidth-160)+'px';
                c.style.top = Math.random()*(window.innerHeight-280) + 50 +'px';
                c.innerHTML = `<img src="${photo.src}" onerror="this.src='https://via.placeholder.com/150'"><div class="photo-caption">${photo.cap}</div>`;
                addDrag(c);
                album.appendChild(c);
            });
        }

        function addDrag(el) {
            let sx, sy, il, it;
            const start = (e) => {
                el.style.animation = 'none'; el.style.zIndex = 1000;
                sx = e.pageX || e.touches[0].pageX; sy = e.pageY || e.touches[0].pageY;
                il = el.offsetLeft; it = el.offsetTop;
                document.onmousemove = document.ontouchmove = (e) => {
                    const cx = e.pageX || (e.touches ? e.touches[0].pageX : 0);
                    const cy = e.pageY || (e.touches ? e.touches[0].pageY : 0);
                    el.style.left = (il + (cx - sx)) + "px"; el.style.top = (it + (cy - sy)) + "px";
                };
                document.onmouseup = document.ontouchend = () => {
                    el.style.animation = 'danceBeat 2s infinite ease-in-out';
                    document.onmousemove = document.ontouchmove = null;
                };
            };
            el.onmousedown = el.ontouchstart = start;
        }

        function showPage(id, btn) {
            document.getElementById('album').style.display = id === 'album' ? 'block' : 'none';
            document.getElementById('report').style.display = id === 'report' ? 'flex' : 'none';
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            btn.classList.add('active');
            if (id === 'report' && !typed) {
                typed = true;
                const txt = "Happy Birthday Ritika! üéÇ You make the world brighter just by being in it. Enjoy every second of your day! ‚ù§Ô∏è";
                let i = 0;
                const type = () => {
                    if (i < txt.length) { document.getElementById('msgText').innerHTML += txt.charAt(i); i++; setTimeout(type, 50); }
                    else { document.getElementById('cake-section').style.display = 'block'; }
                };
                type();
            }
        }
    </script>
</body>
</html>